(function(a){function m(e,b){if(0===e.indexOf("#"))void 0==f?f=a(e).clone(!0).hide():a(e).attr("id")!=f.attr("id")&&(f.appendTo(l),f=a(e).clone(!0).hide()),a(e).appendTo(c.empty()).show();else{if(b){var d=a("<iframe />").attr({src:e,frameborder:0,hspace:0}).css({width:"100%",height:"100%"});c.html(d)}else c.load(e);c.data("localEl",!1)}}function n(a,b){var d=c.outerWidth(!0),g={},h={};if(!c.is(":visible")&&!k){k=!0;switch(a){case "left":c.css({left:"auto",right:"-"+d+"px"});g["margin-left"]="-="+
d;h.right="+="+d;break;default:c.css({left:"-"+d+"px",right:"auto"}),g["margin-left"]="+="+d,h.left="+="+d}l.animate(g,b);c.show().animate(h,b,function(){k=!1})}}var l=a("body"),c=a("#pageslide"),f,k=!1,p;0==c.length&&(c=a("<div />").attr("id","pageslide").css("display","none").appendTo(a("body")));a.fn.pageslide=function(e){this.click(function(b){var d=a(this),g=a.extend({href:d.attr("href")},e);b.preventDefault();b.stopPropagation();c.is(":visible")&&d[0]==p?a.pageslide.close():(a.pageslide(g),
p=d[0])})};a.fn.pageslide.defaults={speed:200,direction:"right",modal:!1,iframe:!0,href:null};a.pageslide=function(e){var b=a.extend({},a.fn.pageslide.defaults,e);c.is(":visible")&&c.data("direction")!=b.direction?a.pageslide.close(function(){m(b.href,b.iframe);n(b.direction,b.speed)}):(m(b.href,b.iframe),c.is(":hidden")&&n(b.direction,b.speed));c.data(b)};a.pageslide.close=function(c){var b=a("#pageslide"),d=b.outerWidth(!0),g=b.data("speed"),h={},f={};if(!b.is(":hidden")&&!k){k=!0;switch(b.data("direction")){case "left":h["margin-left"]=
"+="+d;f.right="-="+d;break;default:h["margin-left"]="-="+d,f.left="-="+d}b.animate(f,g);l.animate(h,g,function(){b.hide();k=!1;"undefined"!=typeof c&&c()})}};c.click(function(a){a.stopPropagation()});a(document).bind("click keyup",function(e){"keyup"==e.type&&27!=e.keyCode||c.is(":visible")&&!c.data("modal")&&a.pageslide.close()})})(jQuery);
